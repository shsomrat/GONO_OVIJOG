<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GONO OVIJOG - Reports and Analytics</title>
    <link rel="icon" type="image/x-icon" href="./assets/img/favicon-3.png">
    <link rel="stylesheet" href="./assets/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="sidebar">
        <img src="./assets/img/logo-light.png" alt="Organization Logo"> <!-- Add your logo image path here -->
        <h2 class="admin-menu">Admin Panel</h2>
        <a href="dashboard.html"><i class="fa-solid fa-gauge"></i>Dashboard</a>
        <a href="add_new_complaint.html"><i class="fa-solid fa-file-pen"></i>Add New Case</a>
        <a href="pending_complaints.html"><i class="fa-solid fa-file-waveform"></i>Pending Complaints</a>
        <a href="complaints_list.html"><i class="fa-solid fa-eye"></i>View Complaints</a>
        <a href="reports_and_analitics.html"><i class="fa-solid fa-chart-line"></i>Reports and Analytics</a>
        <a href="departments_management.html" class="active"><i class="fa-solid fa-sitemap"></i>Department Management</a>
        <a href="users_management.html"><i class="fa-solid fa-user-group"></i>User Management</a>
        <!-- Add more links as needed -->
        <h2 class="admin-menu view-site">View Site <i class="fa-solid fa-arrow-up-right-from-square"></i></h2>
    </div>

    <div class="content">
        <div class="card">
            <h2>Reports and Analytics</h2>
            <div class="charts">
                <div class="chart">
                    <h3>Complaints by Status</h3>
                    <canvas id="complaintsChart"></canvas> <!-- Placeholder for chart -->
                </div>
                <div class="chart">
                    <h3>Complaints Over Time</h3>
                    <canvas id="timeChart"></canvas> <!-- Placeholder for chart -->
                </div>
                <div class="chart">
                    <h3>Complaints by Department</h3>
                    <canvas id="departmentChart"></canvas> <!-- Placeholder for new chart -->
                </div>
            </div>

            <div class="card">
                <h2>Complaint Summary</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Complaint ID</th>
                            <th>Filed By</th>
                            <th>Date Submitted</th>
                            <th>Status</th>
                            <th>Department</th> <!-- New Department column -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>001</td>
                            <td>John Doe</td>
                            <td>January 5, 2024</td>
                            <td>In Progress</td>
                            <td>Public Services</td> <!-- Example Department -->
                        </tr>
                        <tr>
                            <td>002</td>
                            <td>Jane Smith</td>
                            <td>January 6, 2024</td>
                            <td>Resolved</td>
                            <td>Health and Safety</td> <!-- Example Department -->
                        </tr>
                        <!-- Add more summary data as needed -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Sample data for the charts
        const complaintsStatusData = {
            labels: ['New', 'In Progress', 'Resolved', 'Rejected'],
            datasets: [{
                label: 'Number of Complaints',
                data: [10, 20, 15, 5],
                backgroundColor: ['#007bff', '#ffc107', '#28a745', '#dc3545']
            }]
        };

        const timeData = {
            labels: ['Jan 1', 'Jan 2', 'Jan 3', 'Jan 4', 'Jan 5', 'Jan 6', 'Jan 7'],
            datasets: [{
                label: 'Complaints Over Time',
                data: [5, 10, 15, 20, 25, 20, 15],
                borderColor: '#007bff',
                fill: false,
                tension: 0.1
            }]
        };

        const departmentData = {
            labels: ['Public Services', 'Health and Safety', 'Education', 'Transportation'], // Add department labels
            datasets: [{
                label: 'Number of Complaints',
                data: [12, 5, 8, 7], // Sample data for each department
                backgroundColor: ['#007bff', '#ffc107', '#28a745', '#dc3545']
            }]
        };

        const complaintsChartConfig = {
            type: 'bar',
            data: complaintsStatusData,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Complaints by Status'
                    }
                }
            }
        };

        const timeChartConfig = {
            type: 'line',
            data: timeData,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Complaints Over Time'
                    }
                }
            }
        };

        const departmentChartConfig = {
            type: 'doughnut', // Using doughnut chart for department-wise complaints
            data: departmentData,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Complaints by Department'
                    }
                }
            }
        };

        // Render the charts
        const complaintsChart = new Chart(
            document.getElementById('complaintsChart'),
            complaintsChartConfig
        );

        const timeChart = new Chart(
            document.getElementById('timeChart'),
            timeChartConfig
        );

        const departmentChart = new Chart(
            document.getElementById('departmentChart'),
            departmentChartConfig
        );
    </script>
</body>
</html>
